# Copyright 2025 The Pigweed Authors
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may not
# use this file except in compliance with the License. You may obtain a copy of
# the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations under
# the License.

# This is the mypy.ini file used by the Bazel mypy aspect. See `.mypy.ini` at
# the root of the Pigweed repo for the file used by GN.

[mypy]
# Follow imports but don't report errors in imported code. This is required for
# suppression through the "nomypy" tag to work: otherwise, even if you disable
# mypy for a library, you will still get errors for it in every targets that
# depends on it!
follow_imports = silent
follow_imports_for_stubs = True

# TODO: b/436916773 - Typecheck proto-generated code once we use the protobuf
# 32.0 implementation of py_proto_library.
[mypy-*.any_pb2]
follow_imports = skip

[mypy-*.chrono_pb2]
follow_imports = skip

[mypy-*.codegen_options_pb2]
follow_imports = skip

[mypy-*.cpu_state_pb2]
follow_imports = skip

[mypy-*.descriptor_pb2]
follow_imports = skip

[mypy-*.build_driver_pb2]
follow_imports = skip

[mypy-*.detokenize_proto_test_pb2]
follow_imports = skip

[mypy-*.field_options_pb2]
follow_imports = skip

[mypy-*.file_pb2]
follow_imports = skip

[mypy-google.protobuf.message]
follow_imports = skip

[mypy-*.log_pb2]
follow_imports = skip

[mypy-*.metric_service_pb2]
follow_imports = skip

[mypy-*.options_pb2]
follow_imports = skip

[mypy-*.packet_pb2]
follow_imports = skip

[mypy-*.plugin_pb2]
follow_imports = skip

[mypy-*.snapshot_pb2]
follow_imports = skip

[mypy-*.snapshot_metadata_pb2]
follow_imports = skip

[mypy-*.thread_pb2]
follow_imports = skip

[mypy-*.transfer_pb2]
follow_imports = skip

[mypy-*.tuf_pb2]
follow_imports = skip

[mypy-*.unit_test_pb2]
follow_imports = skip

[mypy-*.update_bundle_pb2]
follow_imports = skip

[mypy-*.workflows_pb2]
follow_imports = skip
